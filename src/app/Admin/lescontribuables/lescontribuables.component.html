<div class="full-w">
  <div class="dashboard-content">
    <app-admin-side-bar></app-admin-side-bar>
    <div class="p-col-10">
      <div class="title-container">
        <h2>Tous les Contribuables</h2>
        <button pButton type="button" icon="pi pi-plus" (click)="submit()" label="Ajout contribuable"></button>
      </div>
      <p-table #dt2 [value]="lesContribuables" dataKey="id" [rows]="10" [rowsPerPageOptions]="[5, 10, 25]"
        [paginator]="true"
        [globalFilterFields]="['email', 'nomCommercial','formeJuridique','activite','pays','matriculeFiscale']">
        <ng-template pTemplate="caption">
          <div class="flex">
            <p-iconField iconPosition="left" class="ml-auto">
              <p-inputIcon>
                <i class="pi pi-search"></i>
              </p-inputIcon>
              <input pInputText type="text" (input)="dt2.filterGlobal(getInputValue($event), 'contains')"
                placeholder="Chercher" />
            </p-iconField>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>

            <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon></th>
            <th>Raison Social</th>
            <th>Nom Commercial</th>
            <th>Matricule Fiscale</th>
            <th>Forme Juridique</th>
            <th>Pays</th>
            <th>Activit√©</th>

          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-compte let-expanded="expanded">
          <tr [routerLink]="['/admin/obligations', compte.matriculeFiscale]">

            <td>{{ compte.email }}</td>
            <td>{{ compte.raisonSocial}}</td>
            <td>{{ compte.nomCommercial }}</td>
            <td>{{ compte.matriculeFiscale}}</td>
            <td>{{ compte.formeJuridique.libelle }}</td>
            <td>{{ compte.pays.libelle}}</td>
            <td>{{ compte.activite.libelle }}</td>


          </tr>
        </ng-template>

      </p-table>
    </div>